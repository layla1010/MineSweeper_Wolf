<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>

<StackPane fx:id="overlayRoot" styleClass="howto-overlay" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="control.HowToPlayController">
    
    <Rectangle fx:id="dimRect" height="9999" opacity="0.92" styleClass="howto-dim" width="9999" />

    <ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="NEVER" style="-fx-background: transparent; -fx-background-color: transparent;">
        <content>
            
            <VBox fx:id="root" alignment="TOP_CENTER" maxWidth="1250.0" spacing="15.0" styleClass="howto-panel">
                <padding>
                    <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                </padding>

                <children>

                    <HBox alignment="CENTER_LEFT" spacing="20.0">
                        <children>
                            <Button fx:id="backBtn" onAction="#onBack" prefHeight="32" prefWidth="110" style="-fx-background-color: #4b5563; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Back">
                                <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                            </Button>

                            <Region HBox.hgrow="ALWAYS" />

                            <Label text="How to Play" textFill="#E5E7EB">
                                <font><Font name="Copperplate Gothic Bold" size="24" /></font>
                            </Label>

                            <Region HBox.hgrow="ALWAYS" />

                            <Button fx:id="restartBtn" onAction="#onRestart" prefHeight="32" prefWidth="120" style="-fx-background-color: #22c55e; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Restart">
                                <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                            </Button>
                        </children>
                    </HBox>

                    <StackPane>
                        <children>
                            <Label maxHeight="-Infinity" maxWidth="1228.0" minHeight="-Infinity" prefHeight="54.0" style="-fx-background-color: rgba(15,23,42,0.65); -fx-background-radius: 30; -fx-border-color: rgba(255,255,255,0.25); -fx-border-radius: 30; -fx-border-width: 1.2;" />

                            <GridPane alignment="CENTER" hgap="40.0" maxWidth="1206.0" prefHeight="54.0">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="40" />
                                    <ColumnConstraints percentWidth="20" />
                                    <ColumnConstraints percentWidth="40" />
                                </columnConstraints>
                                <rowConstraints><RowConstraints /></rowConstraints>
                                <children>
                                    <HBox fx:id="p1StatsBox" alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="0">
                                        <padding><Insets left="10.0" /></padding>
                                    </HBox>
                                    <Label fx:id="turnLabel" text="Turn: Player 1" textFill="#E5E7EB" GridPane.columnIndex="1" GridPane.halignment="CENTER">
                                        <font><Font name="Copperplate Gothic Bold" size="15.0" /></font>
                                    </Label>
                                    <HBox fx:id="p2StatsBox" alignment="CENTER_LEFT" spacing="10" GridPane.columnIndex="2">
                                        <padding><Insets right="10.0" /></padding>
                                    </HBox>
                                </children>
                            </GridPane>
                        </children>
                    </StackPane>

                    <HBox alignment="CENTER" spacing="50.0" VBox.vgrow="ALWAYS">
                        <children>
                            <StackPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="430.0" prefWidth="490.0">
                                <children>
                                    <Label prefHeight="500" prefWidth="500" styleClass="board-card board-card-p1" />
                                    <VBox alignment="TOP_CENTER" spacing="14">
                                        <padding><Insets bottom="10" left="10" right="10" top="18" /></padding>
                                        <children>
                                            <StackPane fx:id="p1BoardLayer" prefHeight="430" prefWidth="490" styleClass="grid-board grid-board-p1">
                                                <children>
                                                    <GridPane fx:id="p1Grid" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="430.0" prefWidth="490.0" StackPane.alignment="TOP_CENTER">
                                                        <StackPane.margin><Insets bottom="50.0" top="50.0" /></StackPane.margin>
                                                    </GridPane>
                                                    <Rectangle fx:id="p1RowHL" arcHeight="14" arcWidth="14" fill="rgba(255,45,45,0.18)" managed="false" mouseTransparent="true" stroke="rgba(255,45,45,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p1ColHL" arcHeight="14" arcWidth="14" fill="rgba(255,45,45,0.18)" managed="false" mouseTransparent="true" stroke="rgba(255,45,45,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p1CellHL" arcHeight="14" arcWidth="14" fill="rgba(255,255,255,0.08)" managed="false" mouseTransparent="true" stroke="rgba(255,255,255,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p1NbrHL" arcHeight="14" arcWidth="14" fill="rgba(250,204,21,0.14)" managed="false" mouseTransparent="true" stroke="rgba(250,204,21,0.95)" strokeWidth="3" visible="false" />
                                                </children>
                                            </StackPane>
                                        </children>
                                    </VBox>
                                </children>
                            </StackPane>

                            <StackPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="430.0" prefWidth="490.0">
                                <children>
                                    <Label prefHeight="500" prefWidth="500" styleClass="board-card board-card-p2" />
                                    <VBox alignment="TOP_CENTER" spacing="14">
                                        <padding><Insets bottom="10" left="10" right="10" top="18" /></padding>
                                        <children>
                                            <StackPane fx:id="p2BoardLayer" prefHeight="430" prefWidth="490" styleClass="grid-board grid-board-p2">
                                                <children>
                                                    <GridPane fx:id="p2Grid" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="430" prefWidth="490" StackPane.alignment="TOP_CENTER">
                                                        <StackPane.margin><Insets bottom="50.0" top="50.0" /></StackPane.margin>
                                                    </GridPane>
                                                    <Rectangle fx:id="p2RowHL" arcHeight="14" arcWidth="14" fill="rgba(77,255,140,0.18)" managed="false" mouseTransparent="true" stroke="rgba(77,255,140,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p2ColHL" arcHeight="14" arcWidth="14" fill="rgba(77,255,140,0.18)" managed="false" mouseTransparent="true" stroke="rgba(77,255,140,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p2CellHL" arcHeight="14" arcWidth="14" fill="rgba(255,255,255,0.08)" managed="false" mouseTransparent="true" stroke="rgba(255,255,255,0.95)" strokeWidth="3" visible="false" />
                                                    <Rectangle fx:id="p2NbrHL" arcHeight="14" arcWidth="14" fill="rgba(250,204,21,0.14)" managed="false" mouseTransparent="true" stroke="rgba(250,204,21,0.95)" strokeWidth="3" visible="false" />
                                                </children>
                                            </StackPane>
                                        </children>
                                    </VBox>
                                </children>
                            </StackPane>
                        </children>
                    </HBox>

                    <StackPane>
                        <children>
                            <Label maxHeight="-Infinity" maxWidth="1000.0" minHeight="-Infinity" prefHeight="60.0" style="-fx-background-color: rgba(15,23,42,0.75); -fx-background-radius: 30; -fx-border-color: rgba(255,255,255,0.25); -fx-border-radius: 30; -fx-border-width: 1.2;" />
                            <HBox alignment="CENTER_LEFT" maxWidth="1000.0" prefHeight="60.0" spacing="10.0">
                                <children>
                                    <Label text="Shared Hearts:" textFill="#E5E7EB">
                                        <font><Font name="Copperplate Gothic Light" size="16.0" /></font>
                                        <HBox.margin><Insets left="25.0" /></HBox.margin>
                                    </Label>
                                    <HBox fx:id="heartsBox" alignment="CENTER_LEFT" prefHeight="50.0" spacing="5.0" />
                                    <Label fx:id="scoreLabel" text="Score: 0" textFill="#E5E7EB">
                                        <font><Font name="Copperplate Gothic Light" size="18.0" /></font>
                                        <HBox.margin><Insets right="40.0" /></HBox.margin>
                                    </Label>
                                </children>
                            </HBox>
                        </children>
                    </StackPane>

                    <StackPane>
                        <children>
                            <Label maxHeight="-Infinity" maxWidth="1100.0" minHeight="-Infinity" prefHeight="80.0" style="-fx-background-color: rgba(15,23,42,0.75); -fx-background-radius: 24; -fx-border-color: rgba(255,255,255,0.25); -fx-border-radius: 24; -fx-border-width: 1.2;" />
                            <VBox maxWidth="1050" spacing="6.0">
                                <children>
                                    <Label fx:id="stepTitle" textFill="#E5E7EB">
                                        <font><Font name="Copperplate Gothic Bold" size="18" /></font>
                                    </Label>
                                    <Label fx:id="stepBody" textFill="#E5E7EB" wrapText="true">
                                        <font><Font name="Copperplate Gothic Light" size="15" /></font>
                                    </Label>
                                </children>
                            </VBox>
                        </children>
                        <padding><Insets bottom="14" left="20" right="20" top="14" /></padding>
                    </StackPane>

                    <GridPane>
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="40" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="20" />
                            <ColumnConstraints hgrow="SOMETIMES" percentWidth="40" />
                        </columnConstraints>
                        <rowConstraints><RowConstraints /></rowConstraints>
                        <children>
                            <HBox alignment="CENTER_RIGHT" spacing="20.0" GridPane.columnIndex="0">
                                <children>
                                    <Button fx:id="prevBtn" onAction="#onPrev" prefHeight="34" prefWidth="110" style="-fx-background-color: #4b5563; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Prev">
                                        <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                                    </Button>
                                    <Button fx:id="playBtn" onAction="#onPlay" prefHeight="34" prefWidth="110" style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Play">
                                        <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                                    </Button>
                                </children>
                            </HBox>

                            <VBox alignment="CENTER" spacing="5.0" GridPane.columnIndex="1">
                                <children>
                                    <Button fx:id="stopBtn" onAction="#onStop" prefHeight="34" prefWidth="110" style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Stop">
                                        <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                                    </Button>
                                    <Label fx:id="stepCounter" text="1 / 10" textFill="#E5E7EB">
                                        <font><Font name="Copperplate Gothic Light" size="15" /></font>
                                    </Label>
                                </children>
                            </VBox>

                            <HBox alignment="CENTER_LEFT" spacing="20.0" GridPane.columnIndex="2">
                                <children>
                                    <Button fx:id="nextBtn" onAction="#onNext" prefHeight="34" prefWidth="110" style="-fx-background-color: #22c55e; -fx-text-fill: white; -fx-background-radius: 20; -fx-cursor: hand;" text="Next">
                                        <font><Font name="Copperplate Gothic Bold" size="16" /></font>
                                    </Button>
                                </children>
                            </HBox>
                        </children>
                    </GridPane>

                </children>
            </VBox>
        </content>
    </ScrollPane>

</StackPane>
