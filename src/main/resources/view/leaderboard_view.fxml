<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane fx:id="root" prefHeight="770.0" prefWidth="1300.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="control.LeaderboardController">

  <styleClass>
    <String fx:value="leaderboard-root"/>
    <String fx:value="themed-bg"/>
  </styleClass>

    <children>
        <VBox maxWidth="1300.0" prefWidth="1300.0" spacing="16.0">
            <padding>
                <Insets bottom="24" left="24" right="24" top="24" />
            </padding>

            <!-- Header -->
            <HBox alignment="CENTER_LEFT" spacing="12">
                <Button fx:id="backBtn" onAction="#onBack" prefHeight="44" prefWidth="60" text="â¬…" />
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="leaderboard-title" text="LEADERBOARD" />
                <Region HBox.hgrow="ALWAYS" />
                <Region prefWidth="60" />
            </HBox>

            <!-- Filters -->
            <HBox alignment="CENTER_LEFT" spacing="12" styleClass="leaderboard-filters">
                <Label text="Time Window:">
               <font>
                  <Font name="Copperplate Gothic Light" size="20.0" />
               </font></Label>
                <ComboBox fx:id="timeWindowCombo" prefWidth="200" />

                <Label text="Sort By:">
               <font>
                  <Font name="Copperplate Gothic Light" size="20.0" />
               </font></Label>
                <ComboBox fx:id="metricCombo" prefWidth="240" />

                <Region HBox.hgrow="ALWAYS" />

                <Button fx:id="refreshBtn" onAction="#onRefresh" prefHeight="41.0" prefWidth="146.0" text="Refresh">
               <font>
                  <Font name="Copperplate Gothic Light" size="21.0" />
               </font></Button>
            </HBox>

            <!-- Tabs -->
            <TabPane fx:id="tabs" styleClass="leaderboard-tabs" VBox.vgrow="ALWAYS">
                <tabs>

                    <!-- PLAYERS TAB -->
                    <Tab closable="false" style="fx-font-family: copperplate gothic light;" text="Players">
                        <content>
                            <VBox spacing="12" styleClass="lb-tab-content">
                                <padding>
                                    <Insets bottom="10" left="10" right="10" top="10" />
                                </padding>

                                <!-- Podium (Top 3 Players) -->
                                <StackPane styleClass="lb-podium-wrap">

<HBox alignment="BOTTOM_CENTER" spacing="18" styleClass="lb-podium">

    <!-- #2 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-silver lb-podium-content">
            <Label styleClass="lb-rank-chip" text="#2" />
            <ImageView fx:id="p2Avatar" fitHeight="56" fitWidth="56" preserveRatio="true" />
            <Label fx:id="p2Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="p2Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>


    </VBox>

    <!-- #1 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-gold lb-podium-content">
            <Label styleClass="lb-rank-chip" text="ðŸ‘‘ #1" />
            <ImageView fx:id="p1Avatar" fitHeight="70" fitWidth="70" preserveRatio="true" />
            <Label fx:id="p1Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="p1Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>

    </VBox>

    <!-- #3 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-bronze lb-podium-content">
            <Label styleClass="lb-rank-chip" text="#3" />
            <ImageView fx:id="p3Avatar" fitHeight="56" fitWidth="56" preserveRatio="true" />
            <Label fx:id="p3Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="p3Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>
    </VBox>

</HBox>
</StackPane>



                                <!-- Simplified table (no top 3) -->
                                <TableView fx:id="playersTable" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="346.0" prefWidth="1002.0" styleClass="lb-table" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="pRankCol" prefWidth="90.0" text="#" />
                                        <TableColumn fx:id="pAvatarCol" text="" />
                                        <TableColumn fx:id="pNameCol" prefWidth="419.1999969482422" text="Player" />
                                        <TableColumn fx:id="pGamesCol" prefWidth="240.800048828125" text="Games" />
                                        <TableColumn fx:id="pMetricCol" prefWidth="163.99997558593748" text="Wins" />
                                    </columns>
                           <VBox.margin>
                              <Insets left="110.0" />
                           </VBox.margin>
                                </TableView>

                            </VBox>
                        </content>
                    </Tab>

                    <!-- TEAMS TAB -->
                    <Tab closable="false" style="fx-font-family: copperplate gothic light;" text="Teams">
                        <content>
                            <VBox spacing="12" styleClass="lb-tab-content">
                                <padding>
                                    <Insets bottom="10" left="10" right="10" top="10" />
                                </padding>

                                <!-- Podium (Top 3 Teams) -->
                                <StackPane styleClass="lb-podium-wrap">

<HBox alignment="BOTTOM_CENTER" spacing="18" styleClass="lb-podium">


    <!-- #2 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-silver lb-podium-content">
            <Label styleClass="lb-rank-chip" text="#2" />
            <HBox alignment="CENTER" spacing="6">
                <ImageView fx:id="t2Avatar1" fitHeight="48" fitWidth="48" preserveRatio="true" />
                <ImageView fx:id="t2Avatar2" fitHeight="48" fitWidth="48" preserveRatio="true" />
            </HBox>
            <Label fx:id="t2Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="t2Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>

        <StackPane styleClass="lb-step lb-step-silver">
            <Label styleClass="lb-step-num" text="2" />
        </StackPane>
    </VBox>

    <!-- #1 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-gold lb-podium-content">
            <Label styleClass="lb-rank-chip" text="ðŸ† #1" />
            <HBox alignment="CENTER" spacing="6">
                <ImageView fx:id="t1Avatar1" fitHeight="56" fitWidth="56" preserveRatio="true" />
                <ImageView fx:id="t1Avatar2" fitHeight="56" fitWidth="56" preserveRatio="true" />
            </HBox>
            <Label fx:id="t1Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="t1Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>

        <StackPane styleClass="lb-step lb-step-gold">
            <Label styleClass="lb-step-num" text="1" />
        </StackPane>
    </VBox>

    <!-- #3 -->
    <VBox alignment="BOTTOM_CENTER" spacing="0" styleClass="lb-podium-slot">
        <VBox alignment="CENTER" spacing="6" styleClass="lb-podium-card lb-bronze lb-podium-content">
            <Label styleClass="lb-rank-chip" text="#3" />
            <HBox alignment="CENTER" spacing="6">
                <ImageView fx:id="t3Avatar1" fitHeight="48" fitWidth="48" preserveRatio="true" />
                <ImageView fx:id="t3Avatar2" fitHeight="48" fitWidth="48" preserveRatio="true" />
            </HBox>
            <Label fx:id="t3Name" styleClass="lb-podium-name" text="â€”" />
            <Label fx:id="t3Stat" styleClass="lb-podium-stat" text="â€”" />
        </VBox>

        <StackPane styleClass="lb-step lb-step-bronze">
            <Label styleClass="lb-step-num" text="3" />
        </StackPane>
    </VBox>

</HBox>
</StackPane>



                                <!-- Simplified teams table (no top 3) -->
                                <TableView fx:id="teamsTable" styleClass="lb-table" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="tRankCol" prefWidth="90" text="#" />
                                        <TableColumn fx:id="tAvatar1Col" prefWidth="70" text="" />
                                        <TableColumn fx:id="tP1NameCol" prefWidth="320" text="Player 1" />
                                        <TableColumn fx:id="tAvatar2Col" prefWidth="70" text="" />
                                        <TableColumn fx:id="tP2NameCol" prefWidth="320" text="Player 2" />
                                        <TableColumn fx:id="tGamesCol" prefWidth="140" text="Games" />
                                        <TableColumn fx:id="tMetricCol" prefWidth="200" text="Wins" />
                                    </columns>
                                </TableView>

                            </VBox>
                        </content>
                    </Tab>

                </tabs>
            </TabPane>

        </VBox>
    </children>

    <stylesheets>
        <URL value="@../css/leaderboard.css" />
    </stylesheets>
</StackPane>
